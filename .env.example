# Smart Library Configuration

# ============================================
# Service Addresses (for docker-compose)
# ============================================

# Grobid (PDF extraction service)
GROBID_HOST=grobid
GROBID_TIMEOUT=120

# Ollama (Embeddings and LLM service)
OLLAMA_HOST=ollama
OLLAMA_TIMEOUT=30

# ============================================
# Application Ports
# ============================================

# FastAPI server
API_HOST=0.0.0.0
API_PORT=8000

# React UI (dev server)
UI_PORT=5173

# Grobid API ports
GROBID_ADMIN_PORT=8071

# ============================================
# Database
# ============================================

# SQLite database path (in container)
DATABASE_URL=sqlite:///./data_dev/db/smart_library.db

# Enable debug SQL logging (true/false)
DATABASE_DEBUG=false

# ============================================
# Search & Embeddings
# ============================================

# Ollama embedding model
EMBEDDING_MODEL=nomic-embed-text

# Results limit (max documents to return)
SEARCH_RESULTS_LIMIT=50

# Reranking model (from ollama)
RERANK_MODEL=llama3.1:8b

# ============================================
# PDF Processing
# ============================================

# PDF upload directory
PDF_UPLOAD_DIR=./data_dev/documents/pdf

# Max file size (in MB)
MAX_PDF_SIZE=100

# Chunk size for text splitting (characters)
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# ============================================
# UI Configuration
# ============================================

# API endpoint for frontend
VITE_API_URL=http://localhost:8000

# Results per page
RESULTS_PER_PAGE=10

# ============================================
# Development Settings
# ============================================

# Debug mode (true/false)
DEBUG=false

# Log level (debug/info/warning/error)
LOG_LEVEL=info

# Enable CORS for development
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# GPU Support (optional)
# ============================================

# Enable GPU for Grobid (requires NVIDIA runtime)
GROBID_GPU_ENABLED=false

# Enable GPU for Ollama (requires NVIDIA runtime)
OLLAMA_GPU_ENABLED=false

# ============================================
# Advanced Settings (optional)
# ============================================

# Grobid processing timeout
GROBID_PROCESSING_TIMEOUT=300

# Batch size for embedding generation
EMBEDDING_BATCH_SIZE=32

# Enable result caching
CACHE_ENABLED=true

# Cache TTL (seconds)
CACHE_TTL=3600

# ============================================
# Example Usage in docker-compose
# ============================================

# In docker-compose.yml:
# environment:
#   - GROBID_HOST=${GROBID_HOST}
#   - OLLAMA_HOST=${OLLAMA_HOST}
#   - API_PORT=${API_PORT}
#   - UI_PORT=${UI_PORT}
